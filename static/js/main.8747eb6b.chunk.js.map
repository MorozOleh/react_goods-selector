{"version":3,"sources":["App.js","index.js"],"names":["goodsFromServer","goodsWithId","map","good","index","id","name","App","state","selectedGoods","selectProduct","e","target","parentElement","closest","text","childNodes","data","setState","hidden","classList","add","undoSelectedProduct","elementWithAddClass","querySelector","includes","deletedElement","indexOf","splice","remove","resetSelectedThings","selectedElement","document","querySelectorAll","forEach","elem","buttonAdd","printedValue","this","goodsLength","length","restValue","slice","join","className","type","onClick","product","classNames","key","Component","ReactDOM","render","getElementById"],"mappings":"sPAIMA,G,MAAkB,CACtB,YACA,SACA,OACA,YACA,QACA,QACA,OACA,QACA,MACA,WAGIC,EAAcD,EAAgBE,KAAI,SAACC,EAAMC,GAAP,MAAkB,CACxDC,GAAID,EAAQ,EACZE,KAAMH,MAGKI,EAAb,4MACEC,MAAQ,CACNC,cAAe,CAAC,QAFpB,EAKEC,cAAgB,SAACC,GAAO,IACdC,EAAWD,EAAXC,OACFC,EAAgBD,EAAOE,QAAQ,MAC/BC,EAAOF,EAAcG,WAAW,GAAGC,KAEzC,EAAKC,UAAS,SAAAV,GAAK,MAAK,CAAEC,cAAc,GAAD,mBAAMD,EAAMC,eAAZ,CAA2BM,QAClEH,EAAOO,QAAS,EAChBN,EAAcO,UAAUC,IAAI,sBAZhC,EAeEC,oBAAsB,SAACX,GAAO,IAEtBE,EADaF,EAAXC,OACqBE,QAAQ,MAC/BS,EAAsBV,EAAcW,cAAc,aAElDT,EAAOF,EAAcG,WAAW,GAAGC,KAEzC,GAAK,EAAKT,MAAMC,cAAcgB,SAASV,GAAvC,CAIA,IAAMW,EAAiB,EAAKlB,MAAMC,cAAckB,QAAQZ,GAExD,EAAKP,MAAMC,cAAcmB,OAAOF,EAAgB,GAChD,EAAKR,UAAS,SAAAV,GAAK,MAAK,CAAEC,cAAc,YAAKD,EAAMC,mBACnDI,EAAcO,UAAUS,OAAO,qBAC/BN,EAAoBJ,OAAS,OA/BjC,EAkCEW,oBAAsB,WACpB,IAAMC,EAAkBC,SAASC,iBAAiB,sBAElD,YAAIF,GAAiBG,SAAQ,SAACC,GAC5B,IAAMC,EAAYD,EAAKX,cAAc,aAErC,EAAKN,SAAS,CAAET,cAAe,KAC/B2B,EAAUjB,OAAS,KACnBgB,EAAKf,UAAUS,OAAO,yBA1C5B,4CA8CE,WAAU,IAGJQ,EAFI5B,EAAkB6B,KAAK9B,MAAvBC,cACAC,EAA4D4B,KAA5D5B,cAAeoB,EAA6CQ,KAA7CR,oBAAqBR,EAAwBgB,KAAxBhB,oBAEtCiB,EAAc9B,EAAc+B,OAElC,GAAI/B,EAAc+B,QAAU,EAAG,CAC7B,IAAMC,EAAYhC,EAAciC,MAAM,GAAI,GAE1CL,EAAe,UAAGI,EAAUE,KAAK,OAAlB,cACJlC,EAAc8B,EAAc,GADxB,QAgBjB,OAZ6B,IAAzB9B,EAAc+B,SAChBH,EAAe,YAGY,IAAzB5B,EAAc+B,SAChBH,EAAY,UAAM5B,EAAc,GAApB,QAGe,IAAzBA,EAAc+B,SAChBH,EAAY,UAAM5B,EAAckC,KAAK,SAAzB,SAIZ,yBAAKC,UAAU,OACb,wBAAIA,UAAU,cACX5C,EAAgBwC,OAAhB,UACMH,EADN,aAEG,sBAGJ5B,EAAc+B,QAEd,4BACEK,KAAK,SACLD,UAAU,aACVE,QAAShB,GAHX,KASD9B,EAAgBwC,QAEf,wBACEI,UAAU,aAET3C,EAAYC,KAAI,SAACC,GAChB,IAAM4C,EAAU5C,EAAKG,KAErB,OACE,wBACEsC,UAAWI,IAAW,YACpB,CAAE,oBAAqBD,IAAYtC,EAAc,KACnDwC,IAAK9C,EAAKE,IAETF,EAAKG,KACN,4BACEsC,UAAU,WACVC,KAAK,SACL1B,OACE4B,IAAYtC,EAAc,IAAY,KAExCqC,QAASpC,GANX,OAUA,4BACEkC,UAAU,cACVC,KAAK,SACLC,QAASxB,GAHX,oBAnHlB,GAAyB4B,aClBzBC,IAASC,OACP,kBAAC,EAAD,MACApB,SAASqB,eAAe,U","file":"static/js/main.8747eb6b.chunk.js","sourcesContent":["import classNames from 'classnames';\nimport React, { Component } from 'react';\nimport './App.scss';\n\nconst goodsFromServer = [\n  'Dumplings',\n  'Carrot',\n  'Eggs',\n  'Ice cream',\n  'Apple',\n  'Bread',\n  'Fish',\n  'Honey',\n  'Jam',\n  'Garlic',\n];\n\nconst goodsWithId = goodsFromServer.map((good, index) => ({\n  id: index + 1,\n  name: good,\n}));\n\nexport class App extends Component {\n  state = {\n    selectedGoods: ['Jam'],\n  };\n\n  selectProduct = (e) => {\n    const { target } = e;\n    const parentElement = target.closest('li');\n    const text = parentElement.childNodes[0].data;\n\n    this.setState(state => ({ selectedGoods: [...state.selectedGoods, text] }));\n    target.hidden = true;\n    parentElement.classList.add('app__item--active');\n  };\n\n  undoSelectedProduct = (e) => {\n    const { target } = e;\n    const parentElement = target.closest('li');\n    const elementWithAddClass = parentElement.querySelector('.app__add');\n\n    const text = parentElement.childNodes[0].data;\n\n    if (!this.state.selectedGoods.includes(text)) {\n      return;\n    }\n\n    const deletedElement = this.state.selectedGoods.indexOf(text);\n\n    this.state.selectedGoods.splice(deletedElement, 1);\n    this.setState(state => ({ selectedGoods: [...state.selectedGoods] }));\n    parentElement.classList.remove('app__item--active');\n    elementWithAddClass.hidden = null;\n  }\n\n  resetSelectedThings = () => {\n    const selectedElement = document.querySelectorAll('.app__item--active');\n\n    [...selectedElement].forEach((elem) => {\n      const buttonAdd = elem.querySelector('.app__add');\n\n      this.setState({ selectedGoods: [] });\n      buttonAdd.hidden = null;\n      elem.classList.remove('app__item--active');\n    });\n  };\n\n  render() {\n    const { selectedGoods } = this.state;\n    const { selectProduct, resetSelectedThings, undoSelectedProduct } = this;\n    let printedValue;\n    const goodsLength = selectedGoods.length;\n\n    if (selectedGoods.length >= 3) {\n      const restValue = selectedGoods.slice(0, -1);\n\n      printedValue = `${restValue.join(', ')}`\n        + `and ${selectedGoods[goodsLength - 1]} are`;\n    }\n\n    if (selectedGoods.length === 0) {\n      printedValue = 'No goods';\n    }\n\n    if (selectedGoods.length === 1) {\n      printedValue = `${selectedGoods[0]} is`;\n    }\n\n    if (selectedGoods.length === 2) {\n      printedValue = `${selectedGoods.join(' and ')} are`;\n    }\n\n    return (\n      <div className=\"app\">\n        <h1 className=\"app__title\">\n          {goodsFromServer.length\n            ? `${printedValue} selected`\n            : 'No goods selected'\n            }\n        </h1>\n        {!selectedGoods.length\n          || (\n          <button\n            type=\"button\"\n            className=\"app__reset\"\n            onClick={resetSelectedThings}\n          >\n            X\n          </button>\n          )\n        }\n        {goodsFromServer.length\n        && (\n          <ul\n            className=\"app__list\"\n          >\n            {goodsWithId.map((good) => {\n              const product = good.name;\n\n              return (\n                <li\n                  className={classNames('app__item',\n                    { 'app__item--active': product === selectedGoods[0] })}\n                  key={good.id}\n                >\n                  {good.name}\n                  <button\n                    className=\"app__add\"\n                    type=\"button\"\n                    hidden={\n                      product === selectedGoods[0] ? true : null\n                    }\n                    onClick={selectProduct}\n                  >\n                    Add\n                  </button>\n                  <button\n                    className=\"app__remove\"\n                    type=\"button\"\n                    onClick={undoSelectedProduct}\n                  >\n                    Remove\n                  </button>\n                </li>\n              );\n            })}\n          </ul>\n        )\n      }\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}